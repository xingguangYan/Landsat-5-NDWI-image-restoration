# Landsat-5-NDWI-image-restoration
# This APP mainly implements the banding problem generated in the image stitching process of Landsat 5 series images (1984-2012).The repair method mainly obtains the DN value and probability distribution of its reference image through random forest to correct the image chromatic aberration of the distribution to be repaired, so as to achieve uniform chromatic aberration of the stitched image. Concept Note: Studyarea is the study area you choose, target is the study area to be restored, reference is the study area you want to refer to for correcting the target. 
// APP
![image](https://user-images.githubusercontent.com/87305660/202715027-f4f1d7d0-185f-4e5a-b362-19397d0036bc.png)

APP link:
https://bqt2000204051.users.earthengine.app/view/landsat-5-ndwi-image-restoration

Please cite the article: Yan, Xingguang, Jing Li, Di Yang, Jiwei Li, Tianyue Ma, Yiting Su, Jiahao Shao, and Rui Zhang. 2022.A Random Forest Algorithm for Landsat Image Chromatic Aberration Restoration Based on GEE Cloud Platform—A Case Study of Yucatán Peninsula, MexicoRemote Sensing 14, no. 20: 5154. https://doi.org/10.3390/rs14205154

Abstract
With the growth of cloud computing, the use of the Google Earth Engine (GEE) platform to conduct research on water inversion, natural disaster monitoring, and land use change using long time series of Landsat images has also gradually become mainstream. Landsat images are currently one of the most important image data sources for remote sensing inversion. As a result of changes in time and weather conditions in single-view images, varying image radiances are acquired; hence, using a monthly or annual time scale to mosaic multi-view images results in strip color variation. In this study, the NDWI and MNDWI within 50 km of the coastline of the Yucatán Peninsula from 1993 to 2021 are used as the object of study on GEE platform, and mosaic areas with chromatic aberrations are reconstructed using Landsat TOA (top of atmosphere reflectance) and SR (surface reflectance) images as the study data. The DN (digital number) values and probability distributions of the reference image and the image to be restored are classified and counted independently using the random forest algorithm, and the classification results of the reference image are mapped to the area of the image to be restored in a histogram-matching manner. MODIS and Sentinel-2 NDWI products are used for comparison and validation. The results demonstrate that the restored Landsat NDWI and MNDWI images do not exhibit obvious band chromatic aberration, and the image stacking is smoother; the Landsat TOA images provide improved results for the study of water bodies, and the correlation between the restored Landsat SR and TOA images with the Sentinel-2 data is as high as 0.5358 and 0.5269, respectively. In addition, none of the existing Landsat NDWI products in the GEE platform can effectively eliminate the chromatic aberration of image bands.
Keywords: Google Earth Engine; random forest; Landsat; NDWI; MNDWI; MODIS; Sentinel-2

Restoration was mainly applied in this research using two indices, NDWI and MNDWI, and the indices of other multi-band operations were not analyzed. Further analysis of the indices calculated for other bands is planned in the future to validate and compare the proposed technique with other method among the indices. Although the method proposed in this paper can effectively improve image strip chromatic aberration, the identification of areas where the image strip boundary is not obvious still needs to be improved; in future research, we will focus on the automatic identification and repair of the strip boundary in the study area.
We argue that large areas for Landsat image restoration require significant computational resources and efficient implementation, which was achieved in the present study using the GEE free platform. Because synthetic images of different time scales produce different chromatic aberration areas, the random forest method used in this study is applicable to all areas where image chromatic aberration restoration is required in the process of water surface data processing. In order to verify the regional applicability, we again selected the Southern African Ocean for analysis; the results show that the method is still applicable. The relevant code can be viewed at https://code.earthengine.google.com/13697e3deee07ac64c6da3a69208ed86?hideCode=true, (accessed on 15 August 2022). We also created an app for NDWI image restoration for any region of the world, which can be accessed at https://bqt2000204051.users.earthengine.app/view/landsat5-image--ndwi-restoration, (accessed on 1 October 2020).

If you have any question, please contact me xingguangyan0703@gmail.com

